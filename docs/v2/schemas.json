{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "StreamIngestionRequest": {
    "type": "object",
    "properties": {
      "streamId": {
        "type": "string"
      },
      "initialPrompt": {
        "type": "string"
      },
      "initialSummary": {
        "type": "string"
      }
    },
    "required": ["streamId", "initialPrompt", "initialSummary"]
  },
  "IdOnly": {
    "type": "object",
    "properties": {
      "id": {
        "type": "string"
      }
    },
    "required": ["id"]
  },
  "Stream": {
    "type": "object",
    "properties": {
      "id": {
        "type": "string",
        "format": "uuid"
      },
      "title": {
        "type": "string"
      },
      "description": {
        "type": "string"
      },
      "duration": { "type": "number" },
      "created_at": { "type": "string", "format": "date-time" },
      "has_episodes": { "type": "boolean" },
      "prefix": { "type": "string" },
      "series_id": { "type": "string" },
      "stream_date": { "type": "string", "format": "date-time" },
      "updated_at": { "type": "string", "format": "date-time" },
      "stream_platform": { "type": "string" },
      "thumbnail_url": { "type": "string" },
      "video_clip_count": { "type": "number" }
    },
    "required": ["id"]
  },
  "Episode": {
    "type": "object",
    "properties": {
      "id": {
        "type": "string",
        "format": "uuid"
      },
      "title": {
        "type": "string"
      },
      "description": {
        "type": "string"
      },
      "tracks": {
        "type": "array",
        "items": {
          "type": "object",
          "properties": {
            "start": { "type": "string" },
            "end": { "type": "string" }
          }
        }
      },
      "stream_id": { "type": "string" }
    },
    "required": ["id"]
  },
  "Profile": {
    "type": "object",
    "properties": {
      "id": {
        "type": "string",
        "format": "uuid"
      }
    },
    "required": ["id"]
  },
  "TranscriptSegment": {
    "type": "object",
    "properties": {
      "start": { "type": "number" },
      "end": { "type": "number" },
      "avg_logprob": { "type": "number" },
      "compression_ratio": { "type": "number" },
      "no_speech_prob": { "type": "number" },
      "temperature": { "type": "number" },
      "text": { "type": "string" }
    }
  },
  "VideoClip": {
    "type": "object",
    "properties": {
      "key": { "type": "string" },
      "keyframes": {
        "type": "array",
        "items": { "type": "string" }
      },
      "audio": { "type": "string" },
      "silence": {
        "type": "array",
        "items": {
          "type": "object",
          "properties": {
            "start": { "type": "number" },
            "end": { "type": "number" }
          }
        }
      },
      "start_time": { "type": "number" },
      "stream_id": { "type": "string" },
      "metadata": {
        "type": "object",
        "properties": {
          "format": {
            "type": "object",
            "properties": {
              "duration": { "type": "number" }
            }
          }
        }
      },
      "transcription": {
        "type": "object",
        "properties": {
          "language": { "type": "string" },
          "text": { "type": "string" },
          "segments": {
            "type": "array",
            "items": { "$ref": "#/TranscriptSegment" }
          }
        }
      },
      "summary": {
        "type": "object",
        "properties": {
          "attentions": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "timestamp_start": { "type": "number" },
                "timestamp_end": { "type": "number" },
                "description": { "type": "number" },
                "reasoning": { "type": "number" }
              }
            }
          },
          "highlights": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "timestamp_start": { "type": "number" },
                "timestamp_end": { "type": "number" },
                "description": { "type": "number" },
                "reasoning": { "type": "number" }
              }
            }
          },
          "keywords": {
            "type": "array",
            "items": { "type": "string" }
          },
          "summary_context": { "type": "string" },
          "summary_main_discussion": { "type": "string" },
          "title": { "type": "string" },
          "transcription_errors": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "timestamp_start": { "type": "number" },
                "description": { "type": "number" },
                "reasoning": { "type": "number" }
              }
            }
          }
        }
      }
    }
  }
}
